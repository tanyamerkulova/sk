
---
# Документация проекта

## Описание базового синтаксиса записи и форматирования

Проект использует следующие технологии и синтаксис:

1. **Python** – основной язык программирования для написания автотестов.
2. **Selenium** – библиотека для автоматизации действий в браузере.
3. **Pytest** – фреймворк для написания и запуска тестов.
4. **Allure** – инструмент для создания подробных и наглядных HTML-отчетов.

### Форматирование кода

* Стиль кода — **PEP8**.
* Методы и тесты документированы с использованием **docstrings**.
* Используются аннотации типов параметров и возвращаемых значений.

* Тесты размечены шагами и метаданными с помощью Allure:

#### Примеры Allure-декораторов:

```python
@allure.title("Тест калькулятора: 7 + 8 = 15")
@allure.description("Проверка сложения в калькуляторе с задержкой.")
@allure.feature("Калькулятор")
@allure.severity(allure.severity_level.CRITICAL)
def test_addition(...):
    ...
```

```python
@allure.step("Открытие страницы калькулятора")
def open_calculator():
    ...
```

Или с контекстным менеджером:

```python
with allure.step("Проверка результата 15 на экране"):
    assert result == "15"
```

---

## Инструкция по запуску тестов для формирования отчета Allure

### Вариант 1: Через `run.sh` (рекомендуется)

1. Убедитесь, что установлен [Allure CLI](https://docs.qameta.io/allure/#_installing_a_commandline).

2. Назначьте права на выполнение:

   ```
   chmod +x run.sh
   ```

3. Запустите скрипт:

   ```
   ./run.sh
   ```

   Скрипт автоматически:

   * удалит старые результаты и отчет;
   * выполнит тесты с `pytest`;
   * перенесёт историю для Allure;
   * сгенерирует и откроет отчет в браузере.

---

### Вариант 2: Ручной запуск

1. Установите зависимости:

   ```
   pip install -r requirements.txt
   ```

2. Запустите тесты:

   ```
   pytest --alluredir=./results
   ```

3. Сгенерируйте отчет:

   ```
   allure generate ./results -o ./final_report
   ```

4. Откройте отчет:

   ```
   allure open ./final_report
   ```

---

## Что содержит отчет Allure

* **Название теста** — `@allure.title`
* **Описание** — `@allure.description`
* **Функциональность** — `@allure.feature`
* **Критичность** — `@allure.severity` (blocker, critical, normal, minor, trivial)
* **Шаги выполнения** — каждый шаг обернут в `@allure.step` или `with allure.step(...)`

Также отображается:

* статус теста;
* список шагов;
* ошибки (если есть);
* история запусков.

